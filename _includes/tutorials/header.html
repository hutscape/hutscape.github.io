<section class="section is-small">
  <div class="container">
    <h1 class="title is-1 has-background-info-light">{{ page.title | escape }}</h1>
    <div class="field is-grouped is-grouped-multiline">
      {% if page.date_updated %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-primary is-info">Updated on </span>
          <span class="tag is-primary is-light">{{ page.date_updated | date: "%-d %B %Y" }}</span>
        </div>
      </div>
      {% endif %}

      {% if page.dev_board %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-danger">dev board</span>
          <span class="tag is-light">{{ page.dev_board }}</span>
        </div>
      </div>
      {% endif %}

      {% if page.firmware %}
      {% for firmware in page.firmware %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-info">firmware</span>
          <span class="tag is-light">{{ firmware }}</span>
        </div>
      </div>
      {% endfor %}
      {% endif %}

      {% if page.chips %}
      {% for chip in page.chips %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-warning">chip</span>
          <span class="tag is-light">{{ chip }}</span>
        </div>
      </div>
      {% endfor %}
      {% endif %}

      {% if page.tool %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-danger">tool</span>
          <span class="tag is-light">{{ page.tool }}</span>
        </div>
      </div>
      {% endif %}

      {% if page.sensors %}
      {% for sensor in page.sensors %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-info">sensor</span>
          <span class="tag is-light">{{ sensor }}</span>
        </div>
      </div>
      {% endfor %}
      {% endif %}

      {% if page.features %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-success">features</span>
          {% for feat in page.features %}
          <span class="tag is-light">{{ feat }}</span>
          {% endfor %}
        </div>
      </div>
      {% endif %}

      {% if page.versions %}
      {% for v in page.versions %}
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-link">{{ v.name }} version</span>
          <span class="tag is-light">{{ v.version }}</span>
        </div>
      </div>
      {% endfor %}
      {% endif %}
    </div>

    {% assign currentDate = site.time | date: "%s" | plus: 0 %}
    {% assign articleDate = page.date_updated | date: "%s" | plus: 0 %}
    {% assign sixMonthsAgo = currentDate | minus: 15778463 %}
    {% assign oneYearAgo = currentDate | minus: 31556926 %}

    {% if articleDate < oneYearAgo %}
      <div class="notification is-warning is-danger">
      This tutorial is more than 1 year old. If the steps below do not work, then please check the latest versions and the documentations of the individual tools used.
      </div>
    {% elsif articleDate < sixMonthsAgo %}
      <div class="notification is-warning is-light">
      This tutorial is more than 6 months old. If the steps below do not work, then please check the latest versions and the documentations of the individual tools used.
      </div>
    {% endif %}

    <hr>

    {% if page.dependancies or page.prerequisites %}
    <h2 class="title is-2">Before starting</h2>
    {% endif %}

    <div class="columns is-desktop">
      {% if page.dependancies %}
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">Dependancies</p>
          </header>

          <div class="card-content">
            <div class="content">Ensure the following dependancies are downloaded and available:</div>
            <div class="content">
              <ul>
                {% for dep in page.dependancies %}
                <li><a href="{{ dep.url }}">{{ dep.name }}</a></li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      {% endif %}

      {% if page.prerequisites %}
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">Pre-requisites</p>
          </header>

          <div class="card-content">
            <div class="content">Try these simpler or similar examples:</div>
            <div class="content">
              <ol>
                {% for pre in page.prerequisites %}
                <li><a href="{{ pre.url }}">{{ pre.name }}</a></li>
                {% endfor %}
              </ol>
            </div>
          </div>
        </div>
      </div>
      {% endif %}

      {% if page.components %}
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">Buy the components</p>
          </header>

          <div class="card-content">
            <div class="content">
              <ol>
                {% for comp in page.components %}
                <li><a href="{{ comp.url }}">{{ comp.name }}</a></li>
                {% endfor %}
              </ol>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
    </div>
  </div>
</section>
